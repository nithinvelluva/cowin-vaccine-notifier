<ng-container *ngIf="showResults">
  <div>
    <!-- <ion-searchbar [(ngModel)]="searchTerm" [formControl]="searchControl" (ionChange)="onSearchInput()"></ion-searchbar> -->
    <!-- <div class="spinner-container" *ngIf="searchInProgress">
      <ion-spinner></ion-spinner>
    </div> -->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false"
        *ngFor="let weeklyResult of weeklyResults;">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>{{weeklyResult.sessionDate}}</strong>
          </mat-panel-title>
          <mat-panel-description>
            <div>
              <span class="sc-kEqYlL cJWlqu" [ngStyle]="{'color': weeklyResult.totalSlots >= 5 ? 'green' : 'orange' }">
                <fa-icon icon="hospital"></fa-icon>
                &nbsp;<span>{{weeklyResult.filteredResults.length}}&nbsp;Center(s)</span>
              </span>
            </div>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div>
          <span class="sc-kEqYlL cJWlqu">
            <fa-icon icon="syringe"></fa-icon>Dose 1 :&nbsp;<span
              [ngStyle]="{'color': weeklyResult.totalSlotsDose1 >= 5 ? 'green' : 'orange' }">{{weeklyResult.totalSlotsDose1
              > 0 ? weeklyResult.totalSlotsDose1 : "No"}}&nbsp;Slot(s)</span>
          </span>
          &nbsp;&nbsp;
          <span class="sc-kEqYlL cJWlqu">
            <fa-icon icon="syringe"></fa-icon>Dose 2 :&nbsp;<span
              [ngStyle]="{'color': weeklyResult.totalSlotsDose2 >= 5 ? 'green' : 'orange' }">{{weeklyResult.totalSlotsDose2
              > 0 ? weeklyResult.totalSlotsDose2 : "No"}}&nbsp;Slot(s)</span>
          </span>
        </div>
        <div *ngFor="let item of weeklyResult.filteredResults | sortBy: { property: column, direction: isDesc }">
          <app-result-card [card]="item"></app-result-card>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
</ng-container>